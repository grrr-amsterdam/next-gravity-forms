"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_excluded=["dropzoneText"];function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d["default"]=a,c&&c.set(a,d),d}function Accept(a){var b=a.dropzoneText,c=(0,_objectWithoutProperties2["default"])(a,_excluded),d=c.field,e=(d||[]).defaultValue,f=(0,_react.useState)(e?[e]:[]),g=(0,_slicedToArray2["default"])(f,2),h=g[0],i=g[1],j=(0,_react.useState)("dropzone"),k=(0,_slicedToArray2["default"])(j,2),l=k[0],m=k[1],n=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:function onDrop(a){var b=c.id,d=c.formID,e=c.field,f=c.isRequired,g=c.updateForm,h=c.setTouched,j=c.unsetError;i(a.map(function(a){return Object.assign(a,{preview:URL.createObjectURL(a)})})),g(a,e),h(b),j(b)},onDragOver:function onDragOver(){m("dropzone over")},onDragLeave:function onDragLeave(){m("dropzone")},onDropAccepted:function onDropAccepted(){m("dropzone")}}),o=n.getRootProps,p=n.getInputProps,q=n.isDragActive,r=n.isDragAccept,s=n.isDragReject,t=h&&0<!!h.length&&h.map(function(a){return _react["default"].createElement("div",{key:a.name},_react["default"].createElement("div",null,_react["default"].createElement("img",{src:a.preview})))}),u=c.id,v=c.formID,w=c.isRequired;(0,_react.useEffect)(function(){return function(){h.forEach(function(a){return URL.revokeObjectURL(a.preview)})}},[h]);return _react["default"].createElement("div",{className:"container"},_react["default"].createElement("div",o({className:l}),_react["default"].createElement("input",(0,_extends2["default"])({id:"input_".concat(v,"_").concat(u),name:"input_".concat(u),type:"file",required:w},p())),t&&_react["default"].createElement("div",{className:"preview"},t),_react["default"].createElement("p",{dangerouslySetInnerHTML:{__html:b||"Drag 'n' drop some files here, or click to select files"}})))}var _default=Accept;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBY2NlcHQiLCJkcm9wem9uZVRleHQiLCJwcm9wcyIsImZpZWxkIiwiZGVmYXVsdFZhbHVlIiwidXNlU3RhdGUiLCJmaWxlcyIsInNldEZpbGVzIiwiY3NzQ2xhc3MiLCJzZXRjc3NDbGFzcyIsInVzZURyb3B6b25lIiwiYWNjZXB0Iiwib25Ecm9wIiwiZXZlbnQiLCJpZCIsImZvcm1JRCIsImlzUmVxdWlyZWQiLCJ1cGRhdGVGb3JtIiwic2V0VG91Y2hlZCIsInVuc2V0RXJyb3IiLCJtYXAiLCJmaWxlIiwiT2JqZWN0IiwiYXNzaWduIiwicHJldmlldyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIm9uRHJhZ092ZXIiLCJvbkRyYWdMZWF2ZSIsIm9uRHJvcEFjY2VwdGVkIiwiZ2V0Um9vdFByb3BzIiwiZ2V0SW5wdXRQcm9wcyIsImlzRHJhZ0FjdGl2ZSIsImlzRHJhZ0FjY2VwdCIsImlzRHJhZ1JlamVjdCIsInRodW1icyIsImxlbmd0aCIsIm5hbWUiLCJ1c2VFZmZlY3QiLCJmb3JFYWNoIiwicmV2b2tlT2JqZWN0VVJMIiwiY2xhc3NOYW1lIiwiX19odG1sIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL0ZpZWxkcy9GaWxldXBsb2FkL0dGRHJvcHpvbmUuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRHJvcHpvbmUgfSBmcm9tICdyZWFjdC1kcm9wem9uZSc7XG5cbmZ1bmN0aW9uIEFjY2VwdCh7IGRyb3B6b25lVGV4dCwgLi4ucHJvcHMgfSkge1xuICBjb25zdCB7IGZpZWxkIH0gPSBwcm9wcztcbiAgY29uc3QgeyBkZWZhdWx0VmFsdWUgfSA9IGZpZWxkIHx8IFtdO1xuICBjb25zdCBbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlKGRlZmF1bHRWYWx1ZSA/IFtkZWZhdWx0VmFsdWVdIDogW10pO1xuICBjb25zdCBbY3NzQ2xhc3MsIHNldGNzc0NsYXNzXSA9IHVzZVN0YXRlKCdkcm9wem9uZScpO1xuICBjb25zdCB7XG4gZ2V0Um9vdFByb3BzLCBnZXRJbnB1dFByb3BzLCBpc0RyYWdBY3RpdmUsIGlzRHJhZ0FjY2VwdCwgaXNEcmFnUmVqZWN0IFxufSA9IHVzZURyb3B6b25lKHtcbiAgICBhY2NlcHQ6ICdpbWFnZS8qJyxcbiAgICBvbkRyb3A6IChldmVudCkgPT4ge1xuICAgICAgY29uc3Qge1xuIGlkLCBmb3JtSUQsIGZpZWxkLCBpc1JlcXVpcmVkLCB1cGRhdGVGb3JtLCBzZXRUb3VjaGVkLCB1bnNldEVycm9yIFxufSA9IHByb3BzO1xuICAgICAgc2V0RmlsZXMoXG4gICAgICAgIGV2ZW50Lm1hcChmaWxlID0+IE9iamVjdC5hc3NpZ24oZmlsZSwge1xuICAgICAgICAgICAgcHJldmlldzogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSxcbiAgICAgICAgICB9KSwpLFxuICAgICAgKTtcbiAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgIHNldFRvdWNoZWQoaWQpO1xuICAgICAgdW5zZXRFcnJvcihpZCk7XG4gICAgfSxcbiAgICBvbkRyYWdPdmVyOiAoZXZlbnQpID0+IHtcbiAgICAgIHNldGNzc0NsYXNzKCdkcm9wem9uZSBvdmVyJyk7XG4gICAgfSxcbiAgICBvbkRyYWdMZWF2ZTogKGV2ZW50KSA9PiB7XG4gICAgICBzZXRjc3NDbGFzcygnZHJvcHpvbmUnKTtcbiAgICB9LFxuICAgIG9uRHJvcEFjY2VwdGVkOiAoZXZlbnQpID0+IHtcbiAgICAgIHNldGNzc0NsYXNzKCdkcm9wem9uZScpO1xuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHRodW1icyA9ICAgIGZpbGVzXG4gICAgJiYgISFmaWxlcy5sZW5ndGggPiAwXG4gICAgJiYgZmlsZXMubWFwKGZpbGUgPT4gKFxuICAgICAgPGRpdiBrZXk9e2ZpbGUubmFtZX0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGltZyBzcmM9e2ZpbGUucHJldmlld30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApKTtcbiAgY29uc3QgeyBpZCwgZm9ybUlELCBpc1JlcXVpcmVkIH0gPSBwcm9wcztcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT4gKCkgPT4ge1xuICAgICAgLy8gTWFrZSBzdXJlIHRvIHJldm9rZSB0aGUgZGF0YSB1cmlzIHRvIGF2b2lkIG1lbW9yeSBsZWFrc1xuICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IFVSTC5yZXZva2VPYmplY3RVUkwoZmlsZS5wcmV2aWV3KSk7XG4gICAgfSxcbiAgICBbZmlsZXNdLFxuICApO1xuXG4gIGNvbnN0IHRleHQgPSBkcm9wem9uZVRleHQgfHwgJ0RyYWcgXFwnblxcJyBkcm9wIHNvbWUgZmlsZXMgaGVyZSwgb3IgY2xpY2sgdG8gc2VsZWN0IGZpbGVzJztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIHsuLi5nZXRSb290UHJvcHMoe1xuICAgICAgICAgIGNsYXNzTmFtZTogY3NzQ2xhc3MsXG4gICAgICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlEfV8ke2lkfWB9XG4gICAgICAgICAgbmFtZT17YGlucHV0XyR7aWR9YH1cbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgcmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAgICAgey4uLmdldElucHV0UHJvcHMoKX1cbiAgICAgICAgLz5cbiAgICAgICAge3RodW1icyAmJiA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXdcIj57dGh1bWJzfTwvZGl2Pn1cbiAgICAgICAgPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0ZXh0IH19IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjZXB0O1xu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